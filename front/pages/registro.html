<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AutoPartes - Registro</title>
    <script>
        if (localStorage.getItem("modoProductos") === "oscuro") {
            document.documentElement.classList.add("modo-oscuro");
        }
    </script>
    
    <link rel="shortcut icon" href="../assets/images/logo-autopartes.ico" type="image/x-icon">
    
    <link rel="stylesheet" href="../assets/css/styles.css">
    <link rel="stylesheet" href="../assets/css/header.css">
</head>
<body>
    <nav role="navigation">
        <div class="nav-container">
            <div class="nav-header">
                <div class="nav-title">
                    <img src="../assets/images/logo-autopartes.ico" alt="Logo" class="logo-image">
                    <h2>AutoPartes</h2>
                </div>
                <div class="alumnos">
                    <p>Franco Bulotas</p>
                    <p>Candela Kevarkian</p>
                </div>
            </div>
        </div>
    </nav>
    <main>
        <section class="general-section">
            <div class="general-content">
                <h1>Registro de Usuario</h1>
                <p>Completa los datos para crear tu cuenta</p>
                
                <input type="text" id="nombre-usuario" autocomplete="off" placeholder="Ingresa tu nombre">
                <input type="email" id="email-usuario" autocomplete="off" placeholder="Ingresa tu email">
                <input type="password" id="password-usuario" placeholder="Ingresa tu contraseña">
                <!-- <select id="rol-usuario">
                    <option value="usuario">Usuario</option>
                    <option value="admin">Administrador</option>
                </select> -->
                <button id="boton-registrar">Registrarse</button>
                
                <p>
                    ¿Ya tenes cuenta? <a href="../index.html">Iniciar sesión</a>
                </p>
            </div>
        </section>
    </main>
</body>

<script>
    document.getElementById("boton-registrar")?.addEventListener('click', async () => {
        const nombre = document.getElementById('nombre-usuario').value;
        const email = document.getElementById('email-usuario').value;
        const password = document.getElementById('password-usuario').value;
        //const rol = document.getElementById('rol-usuario').value;


        if (nombre.trim() === '' || email.trim() === '' || password.trim() === '') {
            alert("Por favor, completa todos los campos");
            return;
        }else {
            localStorage.setItem('nombreUsuario', nombre);
            window.location.href = "/front/pages/productos.html";
        }

        
        // if (password.length < 4) {
        //     alert ("La contraseña debe tener al menos 4 caracteres.")
        //     return;
        // }
    });
    
    document.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            document.getElementById('boton-registrar').click();
        }
    });
    
    window.addEventListener("DOMContentLoaded", () => {
        const modoGuardado = localStorage.getItem("modoProductos");
        if (modoGuardado === "oscuro") {
            document.body.classList.add("modo-oscuro");
        }
    });
</script>
</html>